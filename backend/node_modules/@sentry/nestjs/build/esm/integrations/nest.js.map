{"version":3,"file":"nest.js","sources":["../../../src/integrations/nest.ts"],"sourcesContent":["import { NestInstrumentation as NestInstrumentationCore } from '@opentelemetry/instrumentation-nestjs-core';\nimport { defineIntegration } from '@sentry/core';\nimport { generateInstrumentOnce } from '@sentry/node';\nimport { SentryNestEventInstrumentation } from './sentry-nest-event-instrumentation';\nimport { SentryNestInstrumentation } from './sentry-nest-instrumentation';\n\nconst INTEGRATION_NAME = 'Nest';\n\nconst instrumentNestCore = generateInstrumentOnce(`${INTEGRATION_NAME}.Core`, () => {\n  return new NestInstrumentationCore();\n});\n\nconst instrumentNestCommon = generateInstrumentOnce(`${INTEGRATION_NAME}.Common`, () => {\n  return new SentryNestInstrumentation();\n});\n\nconst instrumentNestEvent = generateInstrumentOnce(`${INTEGRATION_NAME}.Event`, () => {\n  return new SentryNestEventInstrumentation();\n});\n\nexport const instrumentNest = Object.assign(\n  (): void => {\n    instrumentNestCore();\n    instrumentNestCommon();\n    instrumentNestEvent();\n  },\n  { id: INTEGRATION_NAME },\n);\n\n/**\n * Integration capturing tracing data for NestJS.\n */\nexport const nestIntegration = defineIntegration(() => {\n  return {\n    name: INTEGRATION_NAME,\n    setupOnce() {\n      instrumentNest();\n    },\n  };\n});\n"],"names":["NestInstrumentationCore"],"mappings":";;;;;;AAMA,MAAM,gBAAA,GAAmB,MAAM;;AAE/B,MAAM,kBAAA,GAAqB,sBAAsB,CAAC,CAAC,EAAA,gBAAA,CAAA,KAAA,CAAA,EAAA,MAAA;AACA,EAAA,OAAA,IAAAA,mBAAA,EAAA;AACA,CAAA,CAAA;;AAEA,MAAA,oBAAA,GAAA,sBAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,OAAA,CAAA,EAAA,MAAA;AACA,EAAA,OAAA,IAAA,yBAAA,EAAA;AACA,CAAA,CAAA;;AAEA,MAAA,mBAAA,GAAA,sBAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,MAAA,CAAA,EAAA,MAAA;AACA,EAAA,OAAA,IAAA,8BAAA,EAAA;AACA,CAAA,CAAA;;AAEA,MAAA,cAAA,GAAA,MAAA,CAAA,MAAA;AACA,EAAA,MAAA;AACA,IAAA,kBAAA,EAAA;AACA,IAAA,oBAAA,EAAA;AACA,IAAA,mBAAA,EAAA;AACA,EAAA,CAAA;AACA,EAAA,EAAA,EAAA,EAAA,gBAAA,EAAA;AACA;;AAEA;AACA;AACA;AACA,MAAA,eAAA,GAAA,iBAAA,CAAA,MAAA;AACA,EAAA,OAAA;AACA,IAAA,IAAA,EAAA,gBAAA;AACA,IAAA,SAAA,GAAA;AACA,MAAA,cAAA,EAAA;AACA,IAAA,CAAA;AACA,GAAA;AACA,CAAA;;;;"}